<!doctype html>

<head>

    <script src="./elm.js"></script>
    <link rel="stylesheet" href="./app.css"></link>
</head>

<body>
    <div> ELM AUTHORS</div>
    <div id="elm-authors"></div>

    <script>
        var authorFields =

            JSON.stringify([""])


        var node = document.getElementById('elm-authors');
        var authorsArray = JSON.stringify([{
                id: 1,
                fields: [{
                        id: 0,
                        authorFieldId: 0,
                        value: "FLAG hello"
                    },
                    {
                        id: 1,
                        authorFieldId: 1,
                        value: "FLAG hello2"
                    },
                    {
                        id: 2,
                        authorFieldId: 2,
                        value: "true"
                    }
                ],
                affiliations: [{
                    id: 1,
                    institution: "Test inst",
                    city: "city 1",
                    country: "Albania"
                }]
            }]);

        var app = Elm.Main.embed(node, {
            authorsList: authorsArray,
            affiliationLimit: 3,
            authorFields: authorFields
        });

        var authorsPort = function(authors) {
            jsonAuthors = JSON.stringify(authors)
            app.ports.authors.send(jsonAuthors)
        }
    </script>
</body>
